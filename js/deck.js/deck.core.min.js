!function(e,n){var t,i,s,o,c={beforeChange:"deck.beforeChange",change:"deck.change",beforeInitialize:"deck.beforeInit",initialize:"deck.init"},r={},a=e(document),d=e(window),l=function(e){e.stopPropagation()},u=function(){var e=s.data("onSlide");s.removeClass(r.classes.onPrefix+e),s.addClass(r.classes.onPrefix+i),s.data("onSlide",i)},f=function(){var n=e("."+r.classes.current),s=n.parentsUntil(r.selectors.container),o=t[i],c=o.parentsUntil(r.selectors.container);s.removeClass(r.classes.childCurrent),c.addClass(r.classes.childCurrent)},h=function(){var n=e();e.each(t,function(e,t){n=n.add(t)}),n.removeClass([r.classes.before,r.classes.previous,r.classes.current,r.classes.next,r.classes.after].join(" "))},g=function(){t[i].addClass(r.classes.current),i>0&&t[i-1].addClass(r.classes.previous),i+1<t.length&&t[i+1].addClass(r.classes.next),i>1&&e.each(t.slice(0,i-1),function(e,n){n.addClass(r.classes.before)}),i+2<t.length&&e.each(t.slice(i+2),function(e,n){n.addClass(r.classes.after)})},k=function(){e(r.selectors.slides).each(function(){var n=e(this),t=n.closest("."+r.classes.childCurrent).length,i=n.hasClass(r.classes.before)&&!t,s=n.hasClass(r.classes.previous)&&!t,o=n.hasClass(r.classes.next),c=n.hasClass(r.classes.after),a=i||s||o||c;n.attr("aria-hidden",a)})},v=function(){u(),f(),h(),g(),r.setAriaHiddens&&k()},p=function(n){e.isArray(n)?e.each(n,function(n,i){t.push(e(i))}):e(n).each(function(n,i){t.push(e(i))})},w=function(){var n=["input","textarea","select","button","meter","progress","[contentEditable]"].join(", ");a.unbind("keydown.deck").bind("keydown.deck",function(n){var t=n.which===r.keys.next,i=n.which===r.keys.previous;t=t||e.inArray(n.which,r.keys.next)>-1,i=i||e.inArray(n.which,r.keys.previous)>-1,t?(E.next(),n.preventDefault()):i&&(E.prev(),n.preventDefault())}),a.undelegate(n,"keydown.deck",l),a.delegate(n,"keydown.deck",l)},b=function(){var t,i=r.touch.swipeDirection,o=r.touch.swipeTolerance,c={both:!0,horizontal:!0}[i],a={both:!0,vertical:!0}[i];s.unbind("touchstart.deck"),s.bind("touchstart.deck",function(n){t||(t=e.extend({},n.originalEvent.targetTouches[0]))}),s.unbind("touchmove.deck"),s.bind("touchmove.deck",function(i){e.each(i.originalEvent.changedTouches,function(i,s){if(!t||s.identifier!==t.identifier)return!0;var r=s.screenX-t.screenX,d=s.screenY-t.screenY,l=r>o&&c,u=-o>r&&c,f=d>o&&a,h=-o>d&&a;return l||f?(e.deck("prev"),t=n):(u||h)&&(e.deck("next"),t=n),!1}),a&&i.preventDefault()}),s.unbind("touchend.deck"),s.bind("touchend.deck",function(i){e.each(i.originalEvent.changedTouches,function(e,i){t&&i.identifier===t.identifier&&(t=n)})})},C=function(e){return"number"==typeof e&&e>=0&&e<t.length},y=function(){var n=e.Event(c.beforeInitialize);return n.locks=0,n.done=e.noop,n.lockInit=function(){++n.locks},n.releaseInit=function(){--n.locks,n.locks||n.done()},n},x=function(n){var i=n.substr(n.indexOf("#")+1);e.each(t,function(n,t){return t.attr("id")===i?(e.deck("go",n),!1):void 0}),r.preventFragmentScroll&&e.deck("getContainer").scrollLeft(0).scrollTop(0)},m=function(e,n){var t=n.attr("id"),i=n.data("deckAssignedId")===t;(!t||i)&&(n.attr("id",r.hashPrefix+e),n.data("deckAssignedId",r.hashPrefix+e))},S=function(e){s.removeClass(r.classes.onPrefix+e)},T=function(e){s.addClass(r.classes.onPrefix+e)},P=function(){o=e(),e.each(t,function(n,t){var i;m(n,t),i="#"+t.attr("id"),i===window.location.hash&&setTimeout(function(){e.deck("go",n)},1),o=o.add('a[href="'+i+'"]')}),t.length&&T(e.deck("getSlide").attr("id"))},z=function(n,t){var i="#"+e.deck("getSlide",t).attr("id"),s=window.location.href.replace(/#.*/,"")+i;S(e.deck("getSlide",n).attr("id")),T(e.deck("getSlide",t).attr("id")),Modernizr.history&&window.history.replaceState({},"",s)},E={init:function(n){var o=y(),d=n;e.isPlainObject(n)||(d=arguments[1]||{},e.extend(!0,d,{selectors:{slides:arguments[0]}})),r=e.extend(!0,{},e.deck.defaults,d),t=[],i=0,s=e(r.selectors.container),s.addClass(r.classes.loading),p(r.selectors.slides),o.done=function(){t=[],p(r.selectors.slides),P(),w(),b(),s.scrollLeft(0).scrollTop(0),t.length&&v(),s.removeClass(r.classes.loading),a.trigger(c.initialize)},a.trigger(o),o.locks||o.done(),window.setTimeout(function(){o.locks&&(window.console&&window.console.warn("Something locked deck initialization              without releasing it before the timeout. Proceeding with              initialization anyway."),o.done())},r.initLockTimeout)},go:function(n){var s,o=e.Event(c.beforeChange);C(n)?s=n:"string"==typeof n&&e.each(t,function(e,t){return t.attr("id")===n?(s=e,!1):void 0}),"undefined"!=typeof s&&(a.trigger(o,[i,s]),o.isDefaultPrevented()||(a.trigger(c.change,[i,s]),z(i,s),i=s,v()))},next:function(){E.go(i+1)},prev:function(){E.go(i-1)},getSlide:function(e){return e="undefined"!=typeof e?e:i,C(e)?t[e]:null},getSlides:function(){return t},getTopLevelSlides:function(){var n=[],i=r.selectors.slides,s=[i,i].join(" ");return e.each(t,function(e,t){t.is(s)||n.push(t)}),n},getNestedSlides:function(n){var t=null==n?i:n,s=e.deck("getSlide",t),o=s.find(r.selectors.slides),c=o.get();return e.map(c,function(n){return e(n)})},getContainer:function(){return s},getOptions:function(){return r},extend:function(e,n){E[e]=n}};e.deck=function(e,n){var t=Array.prototype.slice.call(arguments,1);return E[e]?E[e].apply(this,t):E.init(e,n)},e.deck.defaults={classes:{after:"deck-after",before:"deck-before",childCurrent:"deck-child-current",current:"deck-current",loading:"deck-loading",next:"deck-next",onPrefix:"on-slide-",previous:"deck-previous"},selectors:{container:".deck-container",slides:".slide"},keys:{next:[13,32,34,39,40],previous:[8,33,37,38]},touch:{swipeDirection:"horizontal",swipeTolerance:60},initLockTimeout:1e4,hashPrefix:"slide-",preventFragmentScroll:!0,setAriaHiddens:!0},a.ready(function(){e("html").addClass("ready")}),d.bind("hashchange.deck",function(e){x(e.originalEvent&&e.originalEvent.newURL?e.originalEvent.newURL:window.location.hash)}),d.bind("load.deck",function(){r.preventFragmentScroll&&s.scrollLeft(0).scrollTop(0)})}(jQuery);